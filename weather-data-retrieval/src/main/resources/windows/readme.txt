This application is service program which retrieve forecast and observation data from the met office web site. it is generated by building the Maven profile windows-service in weather-data-retrieval model.

05. Build the Maven profile windows-service. 
10. Go to ${application.location} to find the service name [${windows.application.name}] in install.bat file.
20. Make sure the name is not in [Control Panel]|[Adminstrative Tools]|[Services]. Run uninstall.bat to remove the service.
30. Run install.bat.
40. Manually start the service in [Control Panel]|[Adminstrative Tools]|[Services]. 
50. The system log location: C:\Windows\System32\LogFiles\Apache
60. The Java log is defined by log4j.xml file and it will appear in the metdata folder. It can take sometime for the Java log to show.

100. The ${prunsrv.exe.rename} is copied and renamed from apache commons-daemon-1.1.0-bin-windows/amd64/prunsrv.exe.
110. The ${prunmgr.exe.rename} is copied and renamed from apache commons-daemon-1.1.0-bin-windows/amd64/prunmgr.exe.


Errors and solutions:

10. Check the system log, the following error occurs when Java version is updated.
        [2018-02-14 04:15:31] [info]  [ 4032] Commons Daemon procrun (1.1.0.0 64-bit) started
        [2018-02-14 08:55:03] [info]  [ 9456] Commons Daemon procrun (1.1.0.0 64-bit) started
        [2018-02-14 08:55:04] [info]  [ 9456] Running 'MetOfficeWeatherService' Service...
        [2018-02-14 08:55:04] [info]  [ 6932] Starting service...
        [2018-02-14 08:55:04] [error] [ 6932] Failed creating Java C:\Program Files\Java\jre1.8.0_151\bin\server\jvm.dll
        [2018-02-14 08:55:04] [error] [ 6932] The system cannot find the path specified.
        [2018-02-14 08:55:04] [error] [ 6932] ServiceStart returned 1
        [2018-02-14 08:55:04] [error] [ 6932] The system cannot find the path specified.
        [2018-02-14 08:55:04] [info]  [ 9456] Run service finished.
        [2018-02-14 08:55:04] [info]  [ 9456] Commons Daemon procrun finished

    Solution: un-install the service, check the Jaa version against the install.bat file and re-install it.

20. Error information: Windows could not start the service on Local Computer...... error code 4.
    Error: 1) The jar is missing. 

30. Error information: The service on Local Computer started then stopped. Some services stop automatically if they are not in use by other services or programs.
   Error: All java threads are terminated.

40. Windows could not start the service on Local Computer. Error 1067: The process terminated unexpectedly.
   Error: This is usually a bug inside Java code.
   Solution:
    1) Change the start method to run:
            while (!stop) {
                Logger.getLogger(ProcrunService.class).info(args[0]);
                Thread.sleep(1000L);
            }
    2) Change the the stop method to run:
        stop = true;

50. Error information: [2018-07-11 17:44:44] [error] [ 5428] Could not create instance of java/io/FileOutputStream
    Error: permission denied in the FTP server.
    Solution: change the ownership of /tmp/metdata.
        chown zc:staff /tmp/metdata -R
        chmod -R 777 /tmp/metdata